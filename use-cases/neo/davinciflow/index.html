<!DOCTYPE html>
<html lang="en">
  <head>
    
    
    
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Project Facile documentation" />
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="icon" href="https://www.pingidentity.com/etc.clientlibs/settings/wcm/designs/pic6/assets/resources/images/favicon-new.png">
    <link rel="stylesheet" type="text/css" href="/public/facile.css" />
    <title>Davinci Flow - Project Facile Documentation</title>

<meta name="description" content="Documentation site for Project Facile">
<meta name="robots" content="index,follow">
<meta name="author" content="undefined">

<link rel="canonical" href="https://docs.facile.pingidentity.cloud/use-cases/neo/davinciflow/">

<meta property="og:title" content="Davinci Flow - Project Facile Documentation">
<meta property="og:type" content="article">

<meta property="og:url" content="https://docs.facile.pingidentity.cloud/use-cases/neo/davinciflow/">
<meta property="og:description" content="Documentation site for Project Facile">
<meta property="og:image" content="https://www.pingidentity.com/content/dam/ping-6-2-assets/topnav-json-configs/Ping-Logo-2.svg">

<meta name="twitter:card" content="summary">

<meta name="twitter:url" content="https://docs.facile.pingidentity.cloud/use-cases/neo/davinciflow/">
<meta name="twitter:title" content="Davinci Flow - Project Facile Documentation">
<meta name="twitter:description" content="Documentation site for Project Facile">
<meta name="twitter:image" content="https://www.pingidentity.com/content/dam/ping-6-2-assets/topnav-json-configs/Ping-Logo-2.svg">


  </head>
  <body>
  <main>
    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow">
      <img id='topBarLogo'
        style="width:140px"
        src="https://cdn.glitch.com/a766be66-dd8a-4fa9-adb0-382568f98cae%2Ffacile_logo.png?v=1630520846655"
        alt="Project Facile Logo"
      />
      <span class="d-flex flex-row-reverse flex-fill fw-bold">Documentation - Davinci Flow</span>
    </div>
  
    


<div class="wrapper">
  <div class="row">
    <div class="col-sm-3">
      <div class="card shadow">
        <h6 class="card-header">
          Contents
        </h6>
        <ul><li><a href="/Facile-Documentation/">Home</a></li>
<li><a href="/Facile-Documentation/deployment/">Deployment</a><ul><li><a href="/Facile-Documentation/deployment/pingone/">PingOne Config</a></li>
<li><a href="/Facile-Documentation/deployment/auto/">Automatic</a></li>
<li><a href="/Facile-Documentation/deployment/bespoke/">Bespoke</a></li></ul></li>
<li><a href="/Facile-Documentation/use-cases/">Use Cases</a><ul><li><a href="/Facile-Documentation/use-cases/access/">Access</a><ul><li><a href="/Facile-Documentation/use-cases/access/headers/">Headers</a></li>
<li><a href="/Facile-Documentation/use-cases/access/spa/">Single Page App</a></li>
<li><a href="/Facile-Documentation/use-cases/access/consent-mgmt/">Consent Management</a></li>
<li><a href="/Facile-Documentation/use-cases/access/consent-enforce/">Consent Enforcement</a></li></ul></li>
<li><a href="/Facile-Documentation/use-cases/authn/">Authentication</a><ul><li><a href="/Facile-Documentation/use-cases/authn/simple/">Simple</a></li>
<li><a href="/Facile-Documentation/use-cases/authn/risk-mfa/">Risk \ MFA</a></li>
<li><a href="/Facile-Documentation/use-cases/authn/passwordless/">Passwordless</a></li>
<li><a href="/Facile-Documentation/use-cases/authn/id-verify/">ID Verification</a></li>
<li><a href="/Facile-Documentation/use-cases/authn/authn-api/">Authentication API</a></li>
<li><a href="/Facile-Documentation/use-cases/authn/orchestration/">Orchestration</a></li></ul></li>
<li><a href="/Facile-Documentation/use-cases/neo/">Neo</a><ul><li><a href="/Facile-Documentation/use-cases/neo/credentials/">Credential Demo Setup</a></li>
<li><a href="/Facile-Documentation/use-cases/neo/davinciflow/">Davinci Flow</a></li></ul></li></ul></li>
<li><a href="/Facile-Documentation/tools/">Tools</a><ul><li><a href="/Facile-Documentation/tools/admin/">Admin Consoles</a></li>
<li><a href="/Facile-Documentation/tools/dashboard/">Dashboard</a></li>
<li><a href="/Facile-Documentation/tools/deployer/">Deployer</a></li>
<li><a href="/Facile-Documentation/tools/release-logs/">Release Logs</a></li>
<li><a href="/Facile-Documentation/tools/decoder/">Decoder</a></li>
<li><a href="/Facile-Documentation/tools/utile/">Directory Utility</a></li>
<li><a href="/Facile-Documentation/tools/smtp/">Outbound SMTP</a></li>
<li><a href="/Facile-Documentation/tools/widget-flow/">Widget - Flow</a></li>
<li><a href="/Facile-Documentation/tools/widget-redirectless/">Widget - Redirectless</a></li></ul></li>
<li><a href="/Facile-Documentation/reference/">Reference</a><ul><li><a href="/Facile-Documentation/reference/release-notes/">Release Notes</a><ul><li><a href="/Facile-Documentation/reference/release-chart/">Chart</a></li>
<li><a href="/Facile-Documentation/reference/release-repo/">GH Repo</a></li>
<li><a href="/Facile-Documentation/reference/release-postman/">Postman</a></li></ul></li>
<li><a href="/Facile-Documentation/reference/integration/">Integration</a><ul><li><a href="/Facile-Documentation/reference/integration/pingone/">PingOne</a><ul><li><a href="/Facile-Documentation/reference/integration/pingone/challenges/">Challenges</a></li>
<li><a href="/Facile-Documentation/reference/integration/pingone/tech/">Technical</a></li>
<li><a href="/Facile-Documentation/reference/integration/pingone/non-tech/">Non-Technical</a></li></ul></li></ul></li></ul></li></ul>
      </div>
    </div>
    <div class="col">
      <div class="content">
        <h1>Davinci Flow</h1>
<p>Davinci is being used to overcome a couple of limitations of the Credential Adapter in PingFederate:</p>
<ul>
<li>Credential Issuance is not supported - only Presentation</li>
<li>Verify IK does not support Biographic Name matching</li>
</ul>
<p>To perform these functions, the PF Davinci IK is used to pass information from the Neo IKs into a Flow.</p>
<h2>Davinci Flow</h2>
<img src="https://cdn.glitch.global/6f32d434-43ae-4e29-b7fe-c327613b6a03/DaVinciFlow-67.png?v=1739984087235" alt="Davinci Flow" width="100%" height="auto">
<h3>Notes</h3>
<ol>
<li>The Input Schema is populated from the Credential used to begin the transaction
<ul>
<li>User must be created in the Neo Env and <code>VerifiedEmployee</code> \ <code>VerifiedExternal</code> credential issued</li>
</ul>
</li>
<li>The Verify <code>CreateTransaction</code> node uses the Input <code>givenName</code> and <code>surname</code> values
<ul>
<li>There's a Custom JS Function used to extract the <code>BABEL_STREET</code> object from the Metadata, that is checked to see that it's not <code>NONE</code> or <code>LOW</code>
<ul>
<li><strong>Note:</strong> This is why it's important to use your Legal name on the Credential (unless you want to demo the failed verification)</li>
</ul>
</li>
</ul>
</li>
<li>There are a couple of calls in the Flow that are not currently available in the DV Connectors - these need a Worker token
<ul>
<li>I reuse the <code>PingOne Davinci Connector</code> Worker App (easier than adding one)</li>
<li>This is a <code>CLIENT_SECRET_BASIC</code> App - I use the <code>String</code> connector to construct the <code>Authorization: Basic</code> header
<ul>
<li>There's a FR to allow Variable Secrets to be used in this Action - this is why it's a String</li>
</ul>
</li>
</ul>
</li>
<li>The 2 calls that use this Worker:
<ul>
<li><code>P1 Branding</code> - I do the Branding in the Verify QR display from PingOne Branding - change the Logo there
<ul>
<li>The branding carries over into the Verify WebApp, but not PID App</li>
</ul>
</li>
<li><code>Issue Credential</code> - The DV Connector doesn't support <code>MANAGED</code> or the <code>credData</code> object that is injected into the call</li>
</ul>
</li>
<li>The <code>InternalAccess</code> Credential has a flag - <code>isInternal</code> that is dependant on the Credential you used to get it:
<ul>
<li><code>VerifiedEmployee</code> sets <code>isInternal: true</code></li>
<li><code>VerifiedExternal</code> sets <code>isInternal: false</code></li>
</ul>
</li>
<li>This attribute is exposed in PingFed in the <code>Cred - InternalAccess</code> IK and can be used to add additional Rules in Policy
<ul>
<li>Look at the <code>Verified_Credential</code> Fragment - there's already a rule for <code>riskLevel != LOW</code></li>
</ul>
</li>
</ol>

      </div>    
    </div>
  </div>
</div>



    
  </main>  
  </body>
</html>